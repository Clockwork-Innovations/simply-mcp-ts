/**
 * Handler Manager - Coordinates all handler resolvers and executes handlers
 */
import { HandlerResolver, HandlerConfig, ToolHandler, HandlerContext, HandlerResult, HandlerExecutionOptions, Logger } from './types.js';
import { RegistryHandlerResolver } from '../handlers/RegistryHandlerResolver.js';
/**
 * Options for creating a HandlerManager
 */
export interface HandlerManagerOptions {
    basePath?: string;
    defaultTimeout?: number;
    logger?: Logger;
    silent?: boolean;
}
/**
 * Manager for coordinating handler resolution and execution
 */
export declare class HandlerManager {
    private resolvers;
    private logger;
    private defaultTimeout;
    private registryResolver;
    /**
     * Create a new HandlerManager
     */
    constructor(options?: HandlerManagerOptions);
    /**
     * Resolve a handler configuration to an executable function
     * @param config Handler configuration
     * @returns Executable tool handler function
     */
    resolveHandler(config: HandlerConfig): Promise<ToolHandler>;
    /**
     * Execute a handler with the given arguments and context
     * @param handler Tool handler function
     * @param args Arguments to pass to the handler
     * @param context Execution context
     * @param options Execution options
     * @returns Handler result
     */
    executeHandler(handler: ToolHandler, args: Record<string, unknown>, context: HandlerContext, options?: HandlerExecutionOptions): Promise<HandlerResult>;
    /**
     * Execute handler with timeout enforcement
     */
    private executeWithTimeout;
    /**
     * Check if an error is retryable
     */
    private isRetryableError;
    /**
     * Wrap error with additional context
     */
    private wrapError;
    /**
     * Parse handler configuration from string or object
     * Supports both old string format and new structured format
     */
    parseHandlerConfig(handler: string | HandlerConfig): HandlerConfig;
    /**
     * Get the registry resolver for registering custom handlers
     */
    getRegistry(): RegistryHandlerResolver;
    /**
     * Add a custom resolver
     */
    addResolver(resolver: HandlerResolver): void;
    /**
     * Remove a resolver by type
     */
    removeResolver(resolverClass: new (...args: unknown[]) => HandlerResolver): boolean;
}
//# sourceMappingURL=HandlerManager.d.ts.map