/**
 * Configuration file loader for SimplyMCP CLI
 * Supports run and bundle command configurations, named servers, and defaults
 */
/**
 * API style types
 */
export type APIStyle = 'decorator' | 'functional' | 'programmatic';
/**
 * Transport types
 */
export type TransportType = 'stdio' | 'http';
/**
 * Server-specific configuration
 */
export interface ServerConfig {
    /**
     * Path to server entry file
     */
    entry: string;
    /**
     * Force specific API style
     */
    style?: APIStyle;
    /**
     * Transport type for this server
     */
    transport?: TransportType;
    /**
     * Port for HTTP transport
     */
    port?: number;
    /**
     * Watch mode for this server
     */
    watch?: boolean;
    /**
     * Environment variables for this server
     */
    env?: Record<string, string>;
    /**
     * Verbose output for this server
     */
    verbose?: boolean;
}
/**
 * Default configuration options
 */
export interface DefaultsConfig {
    /**
     * Default transport type
     */
    transport?: TransportType;
    /**
     * Default port for HTTP transport
     */
    port?: number;
    /**
     * Default verbose setting
     */
    verbose?: boolean;
    /**
     * Default watch mode setting
     */
    watch?: boolean;
}
/**
 * Run command configuration options
 */
export interface RunConfig {
    /**
     * API style to use
     */
    style?: APIStyle;
    /**
     * Use HTTP transport instead of stdio
     * @default false
     */
    http?: boolean;
    /**
     * Port for HTTP server
     * @default 3000
     */
    port?: number;
    /**
     * Enable watch mode
     * @default false
     */
    watch?: boolean;
    /**
     * Use polling for watch mode
     * @default false
     */
    watchPoll?: boolean;
    /**
     * Watch polling interval in milliseconds
     * @default 1000
     */
    watchInterval?: number;
    /**
     * Enable Node.js inspector
     * @default false
     */
    inspect?: boolean;
    /**
     * Inspector port
     * @default 9229
     */
    inspectPort?: number;
    /**
     * Verbose output
     * @default false
     */
    verbose?: boolean;
}
/**
 * Bundle command configuration options
 */
export interface BundleConfig {
    /**
     * Entry point file
     */
    entry?: string;
    /**
     * Output file or directory
     */
    output?: string;
    /**
     * Output format
     */
    format?: 'single-file' | 'standalone' | 'executable' | 'esm' | 'cjs';
    /**
     * Minify output
     */
    minify?: boolean;
    /**
     * Generate source maps
     */
    sourcemap?: 'inline' | 'external' | 'both' | false;
    /**
     * Target platform
     */
    platform?: 'node' | 'neutral';
    /**
     * Target Node.js version
     */
    target?: 'node18' | 'node20' | 'node22' | 'esnext' | 'es2020' | 'es2021' | 'es2022';
    /**
     * External packages
     */
    external?: string[];
    /**
     * Enable tree-shaking
     */
    treeShake?: boolean;
    /**
     * Auto-install dependencies
     */
    autoInstall?: boolean;
}
/**
 * SimplyMCP CLI configuration
 */
export interface CLIConfig {
    /**
     * Default server to run (when no file is specified)
     */
    defaultServer?: string;
    /**
     * Named server configurations
     */
    servers?: Record<string, ServerConfig>;
    /**
     * Global defaults for all servers
     */
    defaults?: DefaultsConfig;
    /**
     * Default options for run command
     */
    run?: RunConfig;
    /**
     * Default options for bundle command
     */
    bundle?: BundleConfig;
    /**
     * Legacy bundle options (for backward compatibility)
     */
    entry?: string;
    output?: {
        dir?: string;
        filename?: string;
        format?: 'single-file' | 'standalone' | 'executable' | 'esm' | 'cjs';
    };
    autoInstall?: boolean;
}
/**
 * Load CLI configuration from file
 * @param configPath - Explicit config file path (optional)
 * @param cwd - Working directory (default: process.cwd())
 * @returns Parsed configuration or null if not found
 */
export declare function loadCLIConfig(configPath?: string, cwd?: string): Promise<CLIConfig | null>;
/**
 * Merge CLI options with run config
 * CLI options take precedence over config file
 * @param config - Config file settings
 * @param cliOptions - CLI command options
 * @returns Merged run options
 */
export declare function mergeRunConfig(config: CLIConfig | null, cliOptions: Partial<RunConfig>): RunConfig;
/**
 * Get the config file path that was loaded
 * @param configPath - Explicit config file path (optional)
 * @param cwd - Working directory (default: process.cwd())
 * @returns Path to config file or null if not found
 */
export declare function getConfigFilePath(configPath?: string, cwd?: string): Promise<string | null>;
/**
 * Resolve server configuration from config file
 * If the file argument matches a server name, returns the server config
 * @param file - File path or server name
 * @param config - Loaded CLI config
 * @returns Server config if found, null otherwise
 */
export declare function resolveServerConfig(file: string, config: CLIConfig | null): {
    entry: string;
    config: ServerConfig;
} | null;
/**
 * Merge server config with defaults and CLI options
 * Priority: CLI options > server config > defaults > default values
 * @param serverConfig - Server-specific config
 * @param defaults - Global defaults
 * @param cliOptions - CLI command options
 * @returns Merged configuration
 */
export declare function mergeServerConfig(serverConfig: ServerConfig | null, defaults: DefaultsConfig | null, cliOptions: Partial<RunConfig>): RunConfig;
/**
 * Validate server entry file exists
 * @param serverName - Name of the server
 * @param serverConfig - Server configuration
 * @param cwd - Working directory
 * @returns Validation result
 */
export declare function validateServerEntry(serverName: string, serverConfig: ServerConfig, cwd: string): Promise<{
    valid: boolean;
    error?: string;
}>;
/**
 * Validate entire configuration
 * @param config - Configuration to validate
 * @param cwd - Working directory
 * @returns Validation result with errors and warnings
 */
export declare function validateConfig(config: CLIConfig, cwd?: string): Promise<{
    valid: boolean;
    errors: string[];
    warnings: string[];
}>;
/**
 * Get list of available servers from config
 * @param config - CLI configuration
 * @returns Array of server names with their entry files
 */
export declare function listServers(config: CLIConfig | null): Array<{
    name: string;
    entry: string;
    config: ServerConfig;
}>;
//# sourceMappingURL=cli-config-loader.d.ts.map