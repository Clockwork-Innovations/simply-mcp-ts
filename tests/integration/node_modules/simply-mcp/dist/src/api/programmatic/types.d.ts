/**
 * Programmatic API Type Definitions
 *
 * Types for the BuildMCPServer class - the main programmatic API
 * for building MCP servers with explicit method calls.
 */
import type { ZodSchema } from 'zod';
import type { HandlerContext, HandlerResult } from '../../core/types.js';
import type { ParsedDependencies } from '../../core/index.js';
import type { InstallOptions } from '../../features/dependencies/installation-types.js';
import type { ImageInput, BinaryInput, AudioInput } from '../../core/content-helpers.js';
/**
 * Execute function type for tools
 */
export type ExecuteFunction<T = any> = (args: T, context?: HandlerContext) => Promise<string | HandlerResult | ImageInput | BinaryInput | AudioInput> | string | HandlerResult | ImageInput | BinaryInput | AudioInput;
/**
 * Tool definition interface
 */
export interface ToolDefinition<T = any> {
    name: string;
    description: string;
    parameters: ZodSchema<T>;
    execute: ExecuteFunction<T>;
}
/**
 * Prompt definition interface
 *
 * Supports both static templates (strings) and dynamic templates (functions).
 * Dynamic templates are called at runtime when prompts/get is requested.
 */
export interface PromptDefinition {
    name: string;
    description: string;
    arguments?: Array<{
        name: string;
        description: string;
        required: boolean;
    }>;
    /**
     * Template string or function that generates template dynamically
     * - string: Static template with {placeholder} syntax
     * - function: Called at runtime with arguments, returns template string
     */
    template: string | ((args: Record<string, any>) => string | Promise<string>);
}
/**
 * Resource definition interface
 *
 * Supports both static content (data) and dynamic content (functions).
 * Dynamic content functions are called at runtime when resources/read is requested.
 */
export interface ResourceDefinition {
    uri: string;
    name: string;
    description: string;
    mimeType: string;
    /**
     * Resource content or function that generates content dynamically
     * - string/object/Buffer/Uint8Array: Static content served as-is
     * - function: Called at runtime, returns content (supports async)
     */
    content: string | {
        [key: string]: any;
    } | Buffer | Uint8Array | (() => string | {
        [key: string]: any;
    } | Buffer | Uint8Array | Promise<string | {
        [key: string]: any;
    } | Buffer | Uint8Array>);
}
/**
 * BuildMCPServer Options
 * Consolidated configuration for creating an MCP server
 */
export interface BuildMCPServerOptions {
    name: string;
    version: string;
    description?: string;
    basePath?: string;
    defaultTimeout?: number;
    transport?: {
        type?: 'stdio' | 'http';
        port?: number;
        stateful?: boolean;
    };
    capabilities?: {
        sampling?: boolean;
        logging?: boolean;
    };
    dependencies?: ParsedDependencies;
    autoInstall?: boolean | InstallOptions;
}
/**
 * Transport type
 */
export type TransportType = 'stdio' | 'http';
/**
 * Start Options
 * Options for starting the MCP server
 * These override any transport configuration set in BuildMCPServerOptions
 */
export interface StartOptions {
    transport?: TransportType;
    port?: number;
    stateful?: boolean;
}
/**
 * Internal storage for registered items
 */
export interface InternalTool {
    definition: ToolDefinition;
    jsonSchema: any;
}
//# sourceMappingURL=types.d.ts.map