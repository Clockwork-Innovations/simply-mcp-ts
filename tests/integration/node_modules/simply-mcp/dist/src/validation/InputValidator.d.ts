/**
 * InputValidator.ts
 * Comprehensive validation system using Zod schemas converted from JSON Schema
 *
 * Usage:
 * ```typescript
 * const validator = new InputValidator();
 * const result = validator.validateToolArguments(args, schema);
 * if (!result.valid) {
 *   console.error(result.errors);
 * }
 * ```
 */
import { JsonSchemaDefinition } from './JsonSchemaToZod.js';
import { ValidationErrorDetail } from './ValidationError.js';
/**
 * Validation result
 */
export interface ValidationResult<T = any> {
    /** Whether validation succeeded */
    valid: boolean;
    /** Validated and typed data (only if valid) */
    data?: T;
    /** Validation errors (only if invalid) */
    errors?: ValidationErrorDetail[];
    /** Original error (for debugging) */
    error?: Error;
}
/**
 * Validation options
 */
export interface ValidationOptions {
    /** Allow unknown properties in objects (default: true) */
    allowUnknown?: boolean;
    /** Coerce types when possible (default: false) */
    coerce?: boolean;
    /** Strip unknown properties (default: false, only valid if allowUnknown is false) */
    stripUnknown?: boolean;
    /** Custom error messages */
    errorMessages?: {
        required?: string;
        invalid_type?: string;
    };
}
/**
 * Input validator class
 */
export declare class InputValidator {
    private schemaCache;
    private options;
    constructor(options?: ValidationOptions);
    /**
     * Validate tool arguments against a JSON Schema
     */
    validateToolArguments<T = any>(args: unknown, schema: JsonSchemaDefinition, options?: ValidationOptions): ValidationResult<T>;
    /**
     * Validate a single field
     */
    validateField<T = any>(value: unknown, schema: JsonSchemaDefinition, fieldName?: string): ValidationResult<T>;
    /**
     * Safe parse that returns a result instead of throwing
     */
    safeParse<T = any>(value: unknown, schema: JsonSchemaDefinition): ValidationResult<T>;
    /**
     * Parse and throw on error
     */
    parse<T = any>(value: unknown, schema: JsonSchemaDefinition): T;
    /**
     * Validate multiple fields
     */
    validateFields(values: Record<string, unknown>, schemas: Record<string, JsonSchemaDefinition>): {
        valid: boolean;
        errors: Record<string, ValidationErrorDetail[]>;
        data: Record<string, any>;
    };
    /**
     * Get or create a Zod schema from JSON Schema
     */
    private getZodSchema;
    /**
     * Generate a cache key for a schema
     */
    private getSchemaCacheKey;
    /**
     * Clear the schema cache
     */
    clearCache(): void;
    /**
     * Get cache statistics
     */
    getCacheStats(): {
        size: number;
    };
    /**
     * Update default options
     */
    updateOptions(options: Partial<ValidationOptions>): void;
}
export declare const defaultValidator: InputValidator;
export declare function validateToolArguments<T = any>(args: unknown, schema: JsonSchemaDefinition, options?: ValidationOptions): ValidationResult<T>;
export declare function validateField<T = any>(value: unknown, schema: JsonSchemaDefinition, fieldName?: string): ValidationResult<T>;
export declare function safeParse<T = any>(value: unknown, schema: JsonSchemaDefinition): ValidationResult<T>;
export declare function parse<T = any>(value: unknown, schema: JsonSchemaDefinition): T;
//# sourceMappingURL=InputValidator.d.ts.map